
**Многозначная зависимость** (Multivalued Dependency, MVD) — это тип функциональной зависимости в реляционных базах данных, который описывает связь между атрибутами, где один атрибут или набор атрибутов определяет множество значений другого атрибута или набора атрибутов.

### Определение

Многозначная зависимость между атрибутами \( X \) и \( Y \) в таблице \( R \) обозначается как \( X \twoheadrightarrow Y \) и означает следующее:

- Если для одного значения атрибута \( X \) существует множество значений атрибутов \( Y \), то это множество значений \( Y \) не зависит от значений других атрибутов в таблице.

### Формальное определение

Для отношения \( R \) с атрибутами \( A_1, A_2, ..., A_n \), если:

- Атрибуты \( A_1, A_2, ..., A_k \) определяют значения атрибутов \( A_{k+1}, ..., A_n \) таким образом, что любое значение \( A_1, A_2, ..., A_k \) соответствует множеству значений \( A_{k+1}, ..., A_n \), и
- Эти значения \( A_{k+1}, ..., A_n \) не зависят от значений других атрибутов в таблице,

то можно сказать, что существует многозначная зависимость между \( A_1, A_2, ..., A_k \) и \( A_{k+1}, ..., A_n \).

### Пример

Рассмотрим таблицу `StudentCourses`:

| StudentID | Course    | Instructor |
|-----------|-----------|------------|
| 1         | Math      | Dr. Smith  |
| 1         | Science   | Dr. Smith  |
| 2         | Math      | Dr. Jones  |
| 2         | Science   | Dr. Jones  |

В этой таблице:

- Многозначная зависимость: `StudentID` \(\twoheadrightarrow\) `Course` и `Instructor`

Это означает, что для каждого `StudentID` существуют множество курсов и соответствующих им преподавателей. Важно отметить, что:

- Курсы и преподаватели зависят от `StudentID` и независимы друг от друга.
- Изменение курса или преподавателя не влияет на другие атрибуты, кроме `StudentID`.

### Нормализация и Многозначная Зависимость

Многозначные зависимости могут вызвать избыточность и аномалии при вставке, удалении или обновлении данных. Для устранения этих проблем используется нормализация в **четвертую нормальную форму (4NF)**.

### Четвертая Нормальная Форма (4NF)

Таблица находится в 4NF, если:

- Она находится в третьей нормальной форме (3NF).
- Она не содержит многозначных зависимостей.

**Процесс нормализации до 4NF**:

1. **Определите многозначные зависимости**:
   - Идентифицируйте атрибуты, которые имеют многозначные зависимости.

2. **Разделите таблицу**:
   - Создайте отдельные таблицы для атрибутов, которые имеют многозначные зависимости, и поддерживайте ссылки (внешние ключи) между этими таблицами.

### Пример нормализации

Возьмем таблицу `StudentCourses` и разделим её на две таблицы:

1. **Таблица `StudentCourses`**:

| StudentID | Course   |
|-----------|----------|
| 1         | Math     |
| 1         | Science  |
| 2         | Math     |
| 2         | Science  |

2. **Таблица `InstructorAssignments`**:

| StudentID | Instructor |
|-----------|------------|
| 1         | Dr. Smith  |
| 2         | Dr. Jones  |

Теперь таблицы нормализованы, и каждая таблица содержит атрибуты, которые зависят только от ключа и не содержат многозначных зависимостей.